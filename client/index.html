<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>PEERAS</title>
    <link rel = "icon" href ="/icon.ico" type = "image/x-icon">
    <style>
        html,
body {
  height: 100%;
}
.form-check-label{
  font-size: 13px;
}
button{
  width: 100px;
}
.documentation img{width: 60px;}
.cursor-pointer{cursor: pointer;}

    </style>
</head>
<body>
    <div class="d-flex h-100 bg-light">
        <div class="m-auto p-5">
            <div class="mb-4">
                <img src="logo.svg">
                <div class="form-text" style="max-width: 400px;">
                Peeras is a library that provides peer to peer calls and messaging 
                but the main purpose is to transfer huge files  between two browsers. 
                the files will be transfered directly from a hard drive to another one without 
                saving it on the browser memory wich mean will can transfer unlimited size of data 
                and this process will be secure and inctypted using peer to peer technology since many 
                people dont like to share files using a third party (servers).
               </div>
            </div>
            <div class="mb-3">
              <label for="1" class="form-label">CREATE/JOIN A NEW ROOM</label>
              <input type="text" class="form-control" id="ID" >
              <div class="form-text">these characters #%/ are not allowed.</div>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefault" checked>
              <label class="form-check-label">
                P2P Files transfering and messages
              </label>
            </div>
            <div class="form-check">
              <input  class="form-check-input" type="radio" name="flexRadioDefault" >
              <label class="form-check-label">
                 P2P Calls and screenShare (KYO CALL)
              </label>
            </div>
            <button onclick="create()" type="submit" class="btn btn-dark mt-3">SUBMIT</button>
          </div>
    </div>
</body>
<script>
  function gitHub(){
    window.open('https://github.com/47kyo/peerasjs', '_blank');
  }

    ID.onkeydown = function(event){
     var keyCode = event.keyCode
     console.log(keyCode)
     if([32,53,111].includes(keyCode) || ID.value.length>10)
     return false;
     }
     
     ID.onpaste = e => e.preventDefault();
     
  function create(){
    let roomID = ID.value.trim()
    redirect(roomID)
  }

  function redirect(roomID){
    if(!roomID || roomID.length<5 || roomID.length>10 )
    return Warning.classList.remove('d-none')
    let options = document.getElementsByName('flexRadioDefault')
    if(options[0].checked)
    location.assign('/FileTransfer/'+roomID)
    else
    location.assign('/Calls/'+roomID)
  }

</script>
</html>