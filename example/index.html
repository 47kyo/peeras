<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <title>PEERAS</title>
    <link rel="icon" href="./global_assets/icon.ico" type="image/x-icon" />
  </head>
  <style>
    html,
    body {
      height: 100%;
    }
    .form-check-label {
      font-size: 13px;
    }
    button {
      width: 100px;
    }

    .messages {
      border: 1px solid grey;
      border-radius: 3px;
      height: 160px;
      overscroll-behavior: auto;
      overflow-y: scroll;
      padding: 8px;
    }
    .messages p {
      margin: 0px;
    }

    .progress-bar {
      transition: none !important;
    }
  </style>
  <body>
    <div class="d-flex h-100 bg-light">
      <div id="$main" style="max-width: 800px" class="m-auto p-5">
        <div class="mb-4">
          <img src="./global_assets/logo.svg" />
          <p class="form-text">
            A JavaScript library for real-time file transfer between two browser
            with out the need of a server by streaming the file chunk by chunk,
            the reciever browser saves the shunks on the hard drive when even it
            recieves one in real-time, which means we can send files with huge
            sizes eliminating limitations associated with browser RAM memory.
          </p>
          <div class="form-text">
            The Browser compatibility so far are
            <strong>Chrome</strong> ,<strong>Opera</strong> and
            <strong>Edge</strong>
          </div>
        </div>
        <form id="$form">
          <div class="mb-3">
            <input
              placeholder="room ID"
              type="text"
              class="form-control"
              id="$roomId"
            />
            <div class="form-text">
              Create a room by entering a complex room ID with a minimum of 10
              characters or click
              <strong
                ><a id="$generateUniqueId" href="javascript:void(0)"
                  >here</a
                ></strong
              >
              to generate a random one. Share your room id with whom you want to
              join your room.
            </div>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="flexRadioDefault"
              checked
            />
            <label class="form-check-label"> CREATE A NEW ROOM </label>
          </div>
          <div class="form-check">
            <input
              class="form-check-input"
              type="radio"
              name="flexRadioDefault"
            />
            <label class="form-check-label"> JOIN A ROOM </label>
          </div>
          <button type="submit" id="$submit" disabled class="btn btn-dark mt-3">
            SUBMIT
          </button>
        </form>
        <div id="$content" class="d-none">
          <div class="mb-3">
            <label for="formFile" class="form-label"
              >Default file input example</label
            >
            <input class="form-control" type="file" id="formFile" />
          </div>
          <div class="progress">
            <div
              class="progress-bar"
              id="$uploadProgress"
              role="progressbar"
              style="width: 0%; animation: none"
              aria-valuemin="0"
              aria-valuemax="100"
            ></div>
          </div>
          <button id="$sendFileBtn" class="btn btn-outline-dark mt-3">
            Send File
          </button>
          <button
            id="$cancelButton"
            class="btn btn-outline-danger mt-3"
            style="display: none"
          >
            Cancel
          </button>
          <div
            id="success"
            class="alert alert-success alert-dismissible fade show mt-3"
            style="display: none"
          >
            File has been sent successfully
          </div>
          <div class="mt-3">
            <p>here progress bar if you are getting a file</p>
            <div class="progress">
              <div
                id="$downloadProgress"
                class="progress-bar bg-success"
                role="progressbar"
                style="width: 0%; animation: none"
                aria-valuenow="0"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
          </div>
          <div
            id="$warning"
            class="alert alert-warning alert-dismissible fade show my-3"
            style="display: none"
          ></div>
          <div class="mt-3">
            <p>Recived messages will be displayed here</p>
            <div id="$messages" class="messages"></div>
            <div class="input-group my-2">
              <input
                id="$myMessage"
                type="text"
                class="form-control"
                placeholder="write your message here"
                aria-label="Recipient's username"
              />
              <button
                class="btn btn-outline-secondary"
                type="button"
                id="$sendMessageBtn"
              >
                SEND
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
<script type="module" src="./lib/room_validator.js"></script>
<script type="module" src="main.js"></script>
